<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Pardes CodeClub App</title>

  <!-- Bootstrap Core CSS - Uses Bootswatch Flatly Theme: http://bootswatch.com/flatly/ -->
  <link href="css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom CSS -->
  <link href="css/freelancer.css" rel="stylesheet">

  <!-- Custom Fonts -->
  <!-- <link href="font-awesome-4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
  <link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

  <!-- Javascript -->
  <script src="js/jquery.js"></script>
  <script src="js/bootstrap.min.js"></script>
</head>

<body id="app" class="index" v-cloak>

  <!-- Navigation -->
  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header page-scroll">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#page-top">waffle</a>
      </div>

      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav navbar-right">
          <!-- codeclub : put your links here -->
          <li class="page-scroll">
            <a href="home.html">Home</a>
          </li>
          <li class="page-scroll">
            <a href="about.html">About Us</a>
          </li>
          <li class="page-scroll">
            <a href="signup.html">Signup</a>
          </li>
        </ul>
      </div>
      <!-- /.navbar-collapse -->
    </div>
    <!-- /.container-fluid -->
  </nav>

  <!-- Header -->
  <header>
      <div class="container">
          <div class="row">
              <div class="col-lg-12">
                  <h1 class="intro-text">
                      <span v-if='session.user.uid'>welcome to waffle</span>
                      <span v-else>{{ session.user.google.cachedUserProfile.name }}</span>
                  </h1>

                  <div class="row">
                    <div class="col-sm-12">

                      <img :src='session.user.google.cachedUserProfile.picture' class='circle' v-if='session.user.uid'>

                      <a class="btn btn-lg btn-primary" @click='logout' v-if='session.user.uid'>logout</a>
                      <a class="btn btn-lg btn-primary" @click='login' v-else>login</a>
                    </div>
              </div>
          </div>
      </div>
  </header>

  <!-- Grid Section -->
  <div class="container">

      <div class="row" v-if='session.user.uid'>

        <!-- left column, users  -->
        <div class="col-xs-6">
          <div class="panel panel-default">
            <div class="panel-heading">friends</div>

            <!-- list of existing friends, if any  -->
            <ul class="list-group" v-if="users">
              <li class="list-group-item" v-for="user in users">{{ user.google.cachedUserProfile.name }}</li>
            </ul>

            <!-- no friends -->
            <div class="panel-body" v-else>
              <div class="alert alert-info">
                <strong>aawwww</strong> ... ya got no friends?
              </div>
            </div>
          </div>
        </div>

        <!-- right column, rooms  -->
        <div class="col-xs-6">
          <div class="panel panel-default">
            <div class="panel-heading">chat rooms</div>

            <!-- list of existing rooms, if any  -->
            <ul class="list-group">
              <li class="list-group-item" v-for="room in rooms">
                {{ room.name }} <br />
                <small><strong>by {{ room.addedBy }}<strong></small>
              </li>

              <!-- add a room -->
              <li class="list-group-item form-group">
                <input type='text' class='form-control' v-model='room.name' v-on:keyup.enter="save('room')" placeholder='start new chat'>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div class="row" v-if='!session.user.uid'>
        <div class="col-xs-12">
          <h1>Sorry, you have to be logged in to waffle</h1>
        </div>
      </div>


  <!-- additional scripts -->
  <script src="https://cdn.firebase.com/js/client/2.4.1/firebase.js"></script>
  <script src="js/vue.js"></script>
  <script src="js/codeclub-session.js"></script>
  <script src="js/codeclub-home.js"></script>
</body>

</html>
